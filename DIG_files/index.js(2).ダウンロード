Util.preRegisterComponent("CohortCalendar"),Util.loadCssInline("/components/CohortCalendar/style.css",'.calendar-page {\nbackground-color: var(--color__bg--dark);\n}\n.calendar-list {\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\npadding: 0 0 30px 0;\n}\n.month-container {\ndisplay: flex;\nflex-direction: column;\nborder-radius: 5px;\npadding: 0;\nmargin: 30px 0 0 0;\nbackground-color: var(--color__bg--light);\nbox-shadow: 0px 0px 8px var(--color__shadow);\nwidth: 90%;\n}\n.month {\npadding: 5px;\n}\n.month__day-header {\ntext-align: center;\nfont-size: 1.4rem;\n}\n.month__header {\nwidth: 100%;\ntext-align: center;\nfont-size: 2rem;\nfont-weight: 700;\npadding: 5px 0;\nmargin: 0;\nbackground-color: var(--brand-color__block-heading-bg);\ncolor: var(--brand-color__block-heading-text);\nletter-spacing: 0.1rem;\nborder-radius: 5px 5px 0 0;\n}\n.day {\ntext-align: center;\nwidth: 35px;\nheight: 35px;\nbackground-color: #dde4ec;\nborder-radius: 4px;\nfont-size: 1.4rem;\n}\n.day--invisible {\nvisibility: hidden;\n}\n.day--filled {\nbackground-color: #20252d;\n}\n.day--weekend {\nbackground-color: #eef4ff;\n}\n.day--link {\ncolor: #fff;\nfont-weight: 700;\n}\n.day--today {\nborder: 5px solid var(--brand-color__tertiary);\nbox-sizing: border-box;\n}\n.calendar__lesson-list {\ndisplay: flex;\nflex-direction: column;\npadding: 0 0 30px 0;\nbackground-color: white;\n}\n.calendar__lesson-container {\ndisplay: flex;\nflex-direction: column;\nmargin: 8px 12px 8px 12px;\nfont-size: 1.4rem;\nborder-radius: 5px;\nbackground-color: var(--color__neutral--lightest);\n}\n.calendar__lesson {\ndisplay: flex;\nmargin: 8px;\npadding: 20px;\nborder-radius: 5px;\nfont-family: "Avenir Next", sans-serif;\nfont-size: 1.6rem;\nfont-weight: 800;\nalign-items: center;\nflex: 1;\ncursor: pointer;\ncolor: var(--brand-color__link--dark);\ntext-decoration: none;\n}\n@media (min-width: 600px) {\n.month-container {\nwidth: 70%;\n}\n.day {\nwidth: 40px;\nheight: 40px;\n}\n}\n@media (min-width: 800px) {\n.day {\nwidth: 50px;\nheight: 50px;\n}\n}\n@media (min-width: 1024px) {\n.month-container {\nwidth: 60%;\n}\n.day {\nwidth: 60px;\nheight: 60px;\n}\n}'),StringTable.addScopedStrings("en","COMPONENT_COHORTCALENDAR",{CALENDAR_TITLE:"Calendar",LESSON_LIST_TITLE:"Lesson List"})("ja","COMPONENT_COHORTCALENDAR",{CALENDAR_TITLE:"カレンダー",LESSON_LIST_TITLE:"レッスンリスト"}),(async()=>{const{Div:m,H1:i,H2:y,Link:u,LocMonth:f,LocText:b,LocTextDynamic:d,Table:T,Td:L,Tr:C}=HTML;Util.registerComponentWithCss("CohortCalendar",n=>{let{cohortId:g,daysOccupied:e,today:_,cohortName:a,isAsync:r,ok:o,error:t}=n;if(!o&&t)return HTML.scrollWrap(m("Error: "+t),m("You might need to ",u("log in again ",{navigate:"/logout"}),"to view this page."));let x={};return e.forEach(n=>{var e=n.split("-").slice(0,2).join("-");x[e]=x[e]||[],x[e].push(n)}),a=a||"Cohort",HTML.scrollWrap(m.css("calendar-page")(m.css("page__header")(i.css("page__title")(a),y.css("page__subtitle")(b.forComponentScope("CohortCalendar")(r?"LESSON_LIST_TITLE":"CALENDAR_TITLE"))),r?((n,e)=>{n=n.sort().map(n=>{n=Util.asyncCohortDateIdToLessonNum(n);return m.css("calendar__lesson-container")(u.css("calendar__lesson")(d("LESSON_TITLE",[Util.ensureString(n)]),{navigate:`/dayview/${e}/lesson-`+n}))});return m.css("calendar__lesson-list")(n)})([...e],g):m.css("calendar-list")(Object.keys(x).map(o=>{{o=x[o];var i=g,t=_,[d,l]=o[0].split("-").map(n=>parseInt(n)),s=d+Util.ensureNumLength(l,2),c=new Date(d,l,0).getDate();o.sort();let e={},[,,n,a]=(o.forEach(n=>{e[parseInt(n.split("-")[2])]=!0}),o[0].split("-").map(n=>parseInt(n)));for(;0<a||1<n;)a=(a+6)%7,n--;var p=[];let r=n;for(;r<=c;){var h=[];for(let n=0;n<7;n++,r++)r<=c&&h.push({stub:r<1,isWeekend:5<=n,isToday:t.year===d&&t.month===l&&t.day===r,day:r,filled:e[r],target:s+Util.ensureNumLength(r,2)});p.push(h)}return m.css("month-container")(y.css("month__header")(f(l,d)),T.css("month")({cellSpacing:4},C.css("month__day-header")(L(b("MON")),L(b("TUE")),L(b("WED")),L(b("THU")),L(b("FRI")),L(b("SAT")),L(b("SUN"))),p.map(n=>C(n.map(({day:n,filled:e,target:a,stub:r,isWeekend:o,isToday:t})=>r?L.css("day","day--invisible")():L.css("day",e?"day--filled":o?"day--weekend":null,t?"day--today":null)(e?u.css("day--link")(n,{navigate:`/dayview/${i}/`+a}):n))))))}}))))})})();